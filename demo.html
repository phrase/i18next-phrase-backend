<script src="https://unpkg.com/i18next/i18next.js"></script>
<script src="https://unpkg.com/i18next-chained-backend/i18nextChainedBackend.js"></script>
<script src="https://www.unpkg.com/i18next-localstorage-backend@4.1.1/dist/umd/i18nextLocalStorageBackend.js"></script>
<script src="./dist/out.js"></script>
<script>
// import i18next from "i18next";
// import ChainedBackend from "i18next-chained-backend";
// import HttpBackend from "i18next-http-backend";
// import LocalStorageBackend from "i18next-localstorage-backend";

i18next
  .use(i18nextChainedBackend)
  .init({
    fallbackLng: "en",
    backend: {
      backends: [
        i18nextLocalStorageBackend,
        i18nextPhraseBackend.default
      ],
      backendOptions: [{
        // options for local storage backend
        expirationTime: 5 * 60 * 1000 // 5 minutes
      }, {
        // options for phrase backend
        distribution: 'a6b56dec93f55bf9f5ecbe72530e6f2a',
        secret: '-lZhQqNCARR3L0oiLQnia834WxJWgrqg9nEVJTqKIkI',
        appVersion: '1.0.0',
        uuid: 'MY_UUID'
      }]
    }
  }, function(err, t) {
    updateContent();
  });

function updateContent() {
  document.getElementById('first').innerHTML = i18next.t('test.first');
  document.getElementById('second').innerHTML = i18next.t('test.second', {value: 3});
  document.getElementById('third').innerHTML = i18next.t('test.third');
}

i18next.on('languageChanged', () => {
  updateContent();
});

</script>

<div>
  <button onclick="i18next.changeLanguage('en')">
  english
  </button>
  <button onclick="i18next.changeLanguage('de_DE')">
  german
  </button>
  <hr />
  <ul>
    <li id="first">first</li>
    <li id="second">second</li>
    <li id="third">third</li>
  </ul>
</div>
